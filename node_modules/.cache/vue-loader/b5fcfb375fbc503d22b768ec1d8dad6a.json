{"remainingRequest":"/Users/catherine/workspace/sublimeWorkspace/front-res/vue/app-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/catherine/workspace/sublimeWorkspace/front-res/vue/app-project/src/components/monitorTest/monitorComp/attr-text.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/catherine/workspace/sublimeWorkspace/front-res/vue/app-project/src/components/monitorTest/monitorComp/attr-text.vue","mtime":1579230268000},{"path":"/Users/catherine/workspace/sublimeWorkspace/front-res/vue/app-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/catherine/workspace/sublimeWorkspace/front-res/vue/app-project/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/catherine/workspace/sublimeWorkspace/front-res/vue/app-project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/catherine/workspace/sublimeWorkspace/front-res/vue/app-project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBidXMgZnJvbSAnLi4vdXRpbC9ldmVudEJ1cy5qcycKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJhdHRyLXRleHQiLAogICAgcHJvcHM6IHsKICAgICAgICBpdGVtOiB7CiAgICAgICAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgICAgICAgZGVmYXVsdDogKCkgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIHt9OwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBhdHRyUnVsZXM6IHsKICAgICAgICAgICAgdHlwZTogT2JqZWN0LAogICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgICAgICAgICByZXR1cm4ge307CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHZhbHVlU2hvd1R5cGU6IHsKICAgICAgICAgICAgdHlwZTogTnVtYmVyLAogICAgICAgICAgICBkZWZhdWx0OiAxICAvLyAxIGxlZnQvcmlnaHQgIDIgdG9wL2JvdHRvbQogICAgICAgIH0KICAgIH0sCiAgICBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcGFyYW1MYWJlbENsYXNzOiAncGFyYW0tbGFiZWwnLAogICAgICAgICAgICBwYXJhbVZhbHVlQ2xhc3M6ICdwYXJhbS12YWx1ZScsCiAgICAgICAgICAgIHBhcmFtVW5pdENsYXNzOiAncGFyYW0tdW5pdCcsCiAgICAgICAgICAgIHdhcm5DbGFzczogJ3dhcm4tdmFsdWUnLAogICAgICAgICAgICBlcnJvckNsYXNzOiAnZXJyb3ItdmFsdWUnLAogICAgICAgICAgICBzdGF0dXM6IDAgLy8wIOato+W4uCAgMSDmiqXoraYgIDIg6ZSZ6K+vCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgbGFiZWxWYWx1ZVNob3dDbGFzczogZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAodGhpcy52YWx1ZVNob3dUeXBlID09IDIpIHsKICAgICAgICAgICAgICAgIHJldHVybiAncGFyYW0tdmFsdWUtcGFpcic7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJyc7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIHZhbGlkYXRlVmFsdWU6IGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGxldCBydWxlID0gdGhpcy5hdHRyUnVsZXM7CiAgICAgICAgICAgIGlmIChydWxlKSB7CiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBOdW1iZXIucGFyc2VGbG9hdChpdGVtLnZhbHVlKTsKICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzTmFOKHZhbHVlKSkgewogICAgICAgICAgICAgICAgICAgIGxldCBtaW5XYXJuLCBtaW5FcnJvciwgbWF4V2FybiwgbWF4RXJyb3I7CiAgICAgICAgICAgICAgICAgICAgbGV0IG1pblZhbHVlID0gcnVsZS5taW4gPyBydWxlLm1pbi52YWx1ZSA6IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgICAgICBsZXQgbWluV2FyblZhbHVlID0gcnVsZS5taW4gPyBydWxlLm1pbi53YXJuVmFsdWUgOiB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgICAgICAgbWluRXJyb3IgPSBtaW5WYWx1ZSAhPT0gdW5kZWZpbmVkID8gaXRlbS52YWx1ZSA8IG1pblZhbHVlIDogZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgbWluV2FybiA9IG1pbldhcm5WYWx1ZSAhPT0gdW5kZWZpbmVkID8gaXRlbS52YWx1ZSA+PSBtaW5WYWx1ZSAmJiBpdGVtLnZhbHVlIDw9IG1pbldhcm5WYWx1ZSA6IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICBsZXQgbWF4VmFsdWUgPSBydWxlLm1heCA/IHJ1bGUubWF4LnZhbHVlIDogdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgICAgIGxldCBtYXhXYXJuVmFsdWUgPSBydWxlLm1heCA/IHJ1bGUubWF4Lndhcm5WYWx1ZSA6IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgICAgICBtYXhFcnJvciA9IG1heFZhbHVlICE9PSB1bmRlZmluZWQgPyBpdGVtLnZhbHVlID4gbWF4VmFsdWUgOiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBtYXhXYXJuID0gbWF4V2FyblZhbHVlICE9PSB1bmRlZmluZWQgPyBpdGVtLnZhbHVlID49IG1heFdhcm5WYWx1ZSAmJiBpdGVtLnZhbHVlIDw9IG1heFZhbHVlIDogZmFsc2U7CgogICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gbWluV2FybiB8fCBtYXhXYXJuID8gMSA6IG1pbkVycm9yIHx8IG1heEVycm9yID8gMiA6IDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsZXQgc3RhdHVzT2JqID0ge30KICAgICAgICAgICAgICAgIHN0YXR1c09ialtpdGVtLmF0dHJdID0gdGhpcy5zdGF0dXM7CiAgICAgICAgICAgICAgICBidXMuJGVtaXQoJ3N0YXR1c0NoYW5nZScsIHN0YXR1c09iaik7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0dXMgPT09IDEgPyAnd2Fybi12YWx1ZScgOiB0aGlzLnN0YXR1cyA9PT0gMiA/ICdlcnJvci12YWx1ZScgOiAnJzsKCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJyc7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgfQp9Cg=="},{"version":3,"sources":["attr-text.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"attr-text.vue","sourceRoot":"src/components/monitorTest/monitorComp","sourcesContent":["<template>\n    <div class=\"param-col\" :class=\"validateValue(item)\">\n        <span :class=\"paramLabelClass\">{{item.label}}</span>\n        <span :class=\"labelValueShowClass\">\n                        <span :class=\"paramValueClass\">{{item.value}}</span>\n                        <span :class=\"paramUnitClass\">{{item.unit}}</span>\n                    </span>\n    </div>\n</template>\n\n<script>\n    import bus from '../util/eventBus.js'\n\n    export default {\n        name: \"attr-text\",\n        props: {\n            item: {\n                type: Object,\n                default: () => {\n                    return {};\n                }\n            },\n            attrRules: {\n                type: Object,\n                default: () => {\n                    return {};\n                }\n            },\n            valueShowType: {\n                type: Number,\n                default: 1  // 1 left/right  2 top/bottom\n            }\n        },\n        data: function () {\n            return {\n                paramLabelClass: 'param-label',\n                paramValueClass: 'param-value',\n                paramUnitClass: 'param-unit',\n                warnClass: 'warn-value',\n                errorClass: 'error-value',\n                status: 0 //0 正常  1 报警  2 错误\n            }\n        },\n        computed: {\n            labelValueShowClass: function () {\n                if (this.valueShowType == 2) {\n                    return 'param-value-pair';\n                } else {\n                    return '';\n                }\n            }\n        },\n        methods: {\n            validateValue: function (item) {\n                let rule = this.attrRules;\n                if (rule) {\n                    let value = Number.parseFloat(item.value);\n                    if (!Number.isNaN(value)) {\n                        let minWarn, minError, maxWarn, maxError;\n                        let minValue = rule.min ? rule.min.value : undefined;\n                        let minWarnValue = rule.min ? rule.min.warnValue : undefined;\n                        minError = minValue !== undefined ? item.value < minValue : false;\n                        minWarn = minWarnValue !== undefined ? item.value >= minValue && item.value <= minWarnValue : false;\n\n                        let maxValue = rule.max ? rule.max.value : undefined;\n                        let maxWarnValue = rule.max ? rule.max.warnValue : undefined;\n                        maxError = maxValue !== undefined ? item.value > maxValue : false;\n                        maxWarn = maxWarnValue !== undefined ? item.value >= maxWarnValue && item.value <= maxValue : false;\n\n                        this.status = minWarn || maxWarn ? 1 : minError || maxError ? 2 : 0;\n                    }\n                    let statusObj = {}\n                    statusObj[item.attr] = this.status;\n                    bus.$emit('statusChange', statusObj);\n                    return this.status === 1 ? 'warn-value' : this.status === 2 ? 'error-value' : '';\n\n                } else {\n                    return '';\n                }\n            },\n        }\n    }\n</script>\n\n<style scoped>\n\n    .param-label, .param-value, .param-unit {\n        margin-right: 10px;\n        display: inline-block;\n        padding: 5px 0px 5px 0px;\n    }\n\n    .param-label {\n        width: 140px;\n        background: #66a5ee;\n    }\n\n    .param-value {\n        width: 80px;\n        background: #83bbee;\n    }\n\n    .param-value-pair {\n        display: block;\n        margin-top: 5px;\n    }\n\n    .param-error {\n        color: red;\n    }\n\n    .param-unit {\n        width: 50px;\n        background: #8fc0ee;\n    }\n\n    .param-col {\n        font: bold 13px \"Helvetica Neue\", Helvetica, Arial, \"PingFang SC\", \"Hiragino Sans GB\", \"Heiti SC\", \"Microsoft YaHei\", \"WenQuanYi Micro Hei\", sans-serif;;\n        padding: 5px 10px 5px 10px;\n        color: #fff;\n    }\n\n    .warn-value {\n        color: #e2e05a;\n    }\n\n    .error-value {\n        color: red;\n    }\n</style>"]}]}